<html>
	<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">\
    <title>R/LinkedCharts</title>
    <link rel="stylesheet" type='text/css' media='all' href="src/css/webslides.css">
    <link rel="stylesheet" type="text/css" href="src/css/prism.css">

    <link rel="shortcut icon" sizes="16x16" href="src/images/favicons/favicon.png">
    <link rel="shortcut icon" sizes="32x32" href="src/images/favicons/favicon-32.png">
    <link rel="apple-touch-icon icon" sizes="76x76" href="src/images/favicons/favicon-76.png">
    <link rel="apple-touch-icon icon" sizes="120x120" href="src/images/favicons/favicon-120.png">
    <link rel="apple-touch-icon icon" sizes="152x152" href="src/images/favicons/favicon-152.png">
    <link rel="apple-touch-icon icon" sizes="180x180" href="src/images/favicons/favicon-180.png">
    <link rel="apple-touch-icon icon" sizes="192x192" href="src/images/favicons/favicon-192.png">
    
    <!-- Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#446">
	</head>

	<body>
		<script type="text/javascript" src="src/js/prism.js"></script>

		<main role="main">
      <article id="webslides">
      	<!--Title-->
      	<section>
      		<header>
      			<img src="src/images/ZMBH_Logo_transparent.gif" class="alignleft" width="100">
      			<img src="src/images/heidelberg-university-logo.png" class="alignright" width="170">
      			<p class="text-intro aligncenter">University of Heidelberg</p>
      		</header>
      		<div class="grid vertical-align">
      			<div class="column">
      				<h1>R/LinkedCharts: A novel approach for simple but powerful interactive data analysis</h1>
      			</div>
     				<div class="column">
     					<figure><img class="aligncenter" src="src/images/Pic2.png"></figure>
     				</div>
     			</div>
      		<footer>
      				<p><span class="text-subtitle alignleft">This presentation online: <br> 
      					<strong>kloivenn.github.io/Bioconductor2018</strong></span>
      				<span class="alignright text-pull-right" style="padding-right: 50px">
      					Svetlana Ovchinnikova<br>
      					Simon Anders
      				</span></p>
      		</footer>
      	</section>

      <!-- Slide 01 -->
	      <section>
      	<header>
      	<div class="content-center">
      		<h2>Explore your data</h2>
      	</div>      		
      	</header>
   				<figure class="aligncenter wrap">
   					<iframe src="slide01.html" class = "wrap" height="600" allowfullscreen></iframe>
   				</figure>
   				<p class="text-subtitle">RNA-Seq data, <strong>57</strong> samples, <strong>8000 out of ~60000</strong> genes.</p>
   				<footer>
   					<p class="text-intro content-right" style="font-size: 1.2em;">from C. Conway et al. Oncotarget, 6:40186-40201 (2015), doi:10.18632/oncotarget.5529</p>
   				</footer>
      	</section>

      <!-- Slide 02 -->
      <section>
      	<header>
      	<div class="content-center">
      		<h2>With just few lines of code</h2>
      	</div>      		
      	</header>
      	<div class="wrap">
      		<div class="card-60">
      			<figure><iframe src="slide02.html" height="550" class = "wrap" allowfullscreen></iframe></figure>
      			<div><pre class="language-r">
<code>openPage(useViewer = FALSE, layout = "table1x2")</code>

<code>lc_heatmap(dat(</code>
<code>      value = corrMat,</code>
<code>      showLegend = FALSE,</code>
<code>      on_click = function(k) {  #  \ </code>
<code>         sampleX <<- k[1]       #  |  Linking the</code>
<code>         sampleY <<- k[2]       #  |  charts</code>
<code>         updateCharts( "A2" )   #  /</code>
<code>      }),</code>
<code>   place = "A1")</code>

<code>sampleX <- "PG004-N"</code>
<code>sampleY <- "PG004-D"</code>

<code>lc_scatter(dat(</code>
<code>         x = log10( 1 + countMatrix[,sampleX] ),</code>
<code>         y = log10( 1 + countMatrix[,sampleY] ),</code>
<code>         size = .3,</code>
<code>         opacity = .3),</code>
<code>   place = "A2")</code>

<code>lc_colourSlider(chart = "A1", place = "A1", id="cs")</code>
      			</pre></div>
      		</div>
      	</div>
   			<footer>
   				<p class="text-intro content-right" style="font-size: 1.2em;">from C. Conway et al. Oncotarget, 6:40186-40201 (2015), doi:10.18632/oncotarget.5529</p>
   			</footer>      	
      </section>

      <!-- Slide 03 -->
      	<section>
      	<header>
      	<div class="content-center">
      		<h2>It's simple!</h2>
      	</div>      		
      	</header>
      	<ul class="flexblock gallery">
      		<li>
      			<figure>
      				<img src="src/images/iris_slide_1.png">
      				<figcaption>
      					<pre class="language-r">
<code>ggplot(iris) + geom_point(aes(x = Sepal.Length, y = Petal.Length,</code>
<code>		size = Sepal.Width * 2, colour = Petal.Width, shape = Species))</code>
      					</pre>
      				</figcaption>
      			</figure>
      		</li>
      		<li>
      			<figure>
      				<iframe src="slide03.html" class="wrap" height="550" allowfullsreen></iframe>
      				<figcaption>
      					<pre class="language-r">
<code>lc_scatter(dat(x = iris$Sepal.Length, y = iris$Petal.Length,</code>
<code>		size = iris$Sepal.Width * 2, colourValue = iris$Petal.Width,</code>
<code>		symbolValue = iris$Species))</code></pre>
      				</figcaption>
      			</figure>
      		</li>
      	</ul>
      	</section>

      <!-- Slide 04 -->
      <section>
      	<header>
      	<div class="content-center">
      		<h2>How does it work?</h2>
      	</div>      		
      	</header>
      	<div class="wrap content-center">
      					<pre class="language-r" style="font-size: 1.3em;">
<code>on_click = function(i) {</code>
<code>		# put here your R code. For example:</code>
<code>		selPoint <<- i # change some global variable</code>
<code>		updateCharts()</code>
<code>}</code></pre>
				<p class="text-intro">Customizable events:</p>
				</div>
				<div class="wrap content-left">     		
  				<ul class="description">
          	<li><span class="text-label">on_click:</span> a point/cell/line/bar is clicked.</li>
          	<li><span class="text-label">on_mouseover:</span> mouse moves over a point/cell/line/bar.</li>
          	<li><span class="text-label">on_mouseout:</span> mouse moves out of a point/cell/line/bar.</li>
          	<li><span class="text-label">on_marked:</span> some points/cells/lines/bars are selected or deselected.</li>
          	<li><span class="text-label">on_labelClickRow:</span> a row label of a heatmap is clicked.</li>
         		<li><span class="text-label">on_labelClickCol:</span> a column label of a heatmap is clicked.</li>
        	</ul>
      	</div>
      </section>

			<!-- Slide 05 -->
      <section>
      	<header>
      	<div class="content-center">
      		<h2>And another example!</h2>
      	</div>      		
      	</header>
      	<div class="wrap">
      		<div class="card-60">
     				<div class="wrap">
     					<iframe src="slide05.html" height="400" class="wrap" allowfullscreen></iframe>
     					<p class="text-subtitle">
     						<span style="width: 350px; float: left;"><strong>MA Plot</strong></span> 
     						<span style="width: 300px;"><strong>Expression</strong></span>
     					</p>
     					<p class="text-subtitle">
     						<span style="width: 350px; float: left;">
     							log<sub>2</sub>-fold changes of <strong>58037</strong> genes
     						</span>
     						<span style="width: 300px;">
     							<strong>19</strong> patients, normal and tumor tissues
     						</span>
     					</p>
     				</div>
      			<div><pre class="language-r">
<code>openPage(useViewer = FALSE, layout="table1x2")</code>

<code>gene <- 1</code>

<code>lc_scatter(dat(</code>
<code>      x = voomResult$AveExpr,</code>
<code>      y = voomResult$tissuetumour,</code>
<code>      color = ifelse( voomResult$adj.P.Val < 0.1, "red", "black" ),</code>
<code>      label = rownames(voomResult),</code>
<code>      size = 1.3,</code>
<code>      on_click = function(k) { gene <<- k; updateCharts("A2") }),</code>
<code>   "A1")</code>

<code>countsums <- colSums(countMatrix)</code>

<code>lc_scatter(dat(</code>
<code>      x = sampleTable$patient,</code>
<code>      y = countMatrix[gene,] / countsums * 1e6 + .1,</code>
<code>      logScaleY = 10,</code>
<code>      colorValue = sampleTable$tissue,</code>
<code>      title = rownames(countMatrix)[gene],</code>
<code>      axisTitleY = "counts per million (CPM)",</code>
<code>      ticksRotateX = 45),</code>
<code>   "A2")</code>
      			</pre></div>
      		</div>
      	</div>
   			<footer>
   				<p class="text-intro content-right" style="font-size: 1.2em;">from C. Conway et al. Oncotarget, 6:40186-40201 (2015), doi:10.18632/oncotarget.5529</p>
   			</footer>
      </section>

			<!-- Slide 06 -->
      <section>
      	<header>
      	<div class="content-center">
      		<h2>Maybe something more complicated?</h2>
      	</div>      		
      	</header>
      	<figure>
     			<iframe src="slide06.html" height="800" class="wrap" allowfullscreen></iframe>
      	</figure>
   			<div class="alignright">
   				<p class="text-intro content-right" style="font-size: 1.2em;">Stoeckius et al. Nature Methods, 14:865, 2017</p>
   				<p class="text-intro content-right" style="font-size: 1.2em;">
						You can find tutorial for this example
						<a href="https://anders-biostat.github.io/linked-charts/rlc/citeseq/example_1.html">
      				here
      			</a>   					
   				</p>
   			</div>      	
      </section>

      <section>
      	<header>
      		<div class="content-center">
      			<h2>Online tutorials</h2>
      		</div>      		
      	</header>
      	<div class="content-center">
      		<h3><strong><a href="https://anders-biostat.github.io/linked-charts">
      			https://anders-biostat.github.io/linked-charts
      		</a></strong></h3>
      		<figure>
      			<img src="src/images/linked-charts - Google Chrome_003.png">
      		</figure>
      	</div>
      </section>

      <section>
      	<header>
      		<div class="content-center">
      			<h2>Share your data</h2>
      		</div>      		
      	</header>
      	<div class="wrap">
     			<figure><iframe src="explorer/explorer.html" height="800" class = "wrap" allowfullscreen></iframe></figure>
      	</div>
      </section>

      <section>
      	<header>
      		<div class="content-center">
      			<h2>Or send scripts to your colleagues</h2>
      		</div>      		
      	</header>
      	<div class="wrap">
     			<figure><img src="src/images/RStudio_002.png"></figure>
      	</div>
      </section>

      <section>
        <header>
      		<div class="content-center">
      			<h2>Thank you for your attention!</h2>
      		</div>      		
      	</header>
      	<h3>Try it now:</h3>
      	<pre class="language-r" style="font-size: 1.5em">
      		<code>devtools::install_github( "anders-biostat/JsRCom" )</code>
      		<code>devtools::install_github( "anders-biostat/rlc" )</code></pre>
      	<h3>This presentation is available at:</h3>
      	<h4 class="content-center"><strong>kloivenn.github.io/Bioconductor2018</strong></h4>
      	<h3>Tutorial available at:</h3>
      	<h4 class="content-center"><strong>anders-biostat.github.io/linked-charts</strong></h4>
 				<div class="wrap">
 					<p><span class="text-pull-right" style="padding-right: 100px; font-size: 1.5em"><strong>Anders group is hiring</strong></span></p>
 				</div>
      </section>

      </article>
    </main>

    <!-- Required -->
    <script src="src/js/webslides.min.js"></script>
    <script>
      window.ws = new WebSlides();
    </script>		
	</body>
</html>